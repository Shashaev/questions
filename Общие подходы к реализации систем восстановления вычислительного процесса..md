Вычислительные машины (ВМ) работают в условиях, где неизбежны ошибки из-за:
1. **Сбоев (Transient Faults):** Кратковременные, самовосстанавливающиеся нарушения (помехи питания, EMI, статика).
2. **Отказов (Permanent Faults):** Постоянные неисправности компонентов (требуют ремонта/замены).

**Цель восстановления:** Минимизировать простои и потери данных после ошибки. Решаются две ключевые задачи:
- **Восстановление достоверности данных** (корректное состояние информации).    
- **Восстановление вычислительного процесса** (продолжение работы программы).

**Этапы восстановления:**
1. **Обнаружение ошибки**.
2. **Классификация ошибки** (Сбой или Отказ).
3. **Выполнение алгоритма восстановления**.

**Алгоритм классификации ошибки:**
- **Проверка на сбой:** Попытка **повтора операции/команды**.
	Делается попытка определения случайного характера ошибки. Для этого выполняется перезапуск операции или фрагмента программы, на котором обнаружена ошибка. Вообще говоря, не для любой операции и любого этапа ее выполнения возможен повтор.  Операция может изменить  состояние машины, а повтор возможен  только с точки  состояния системы, имевшем место перед началом выполнения операции. В этом  случае вводится понятие порога обратимости операции.

- **Ключевое ограничение - Порог Обратимости:**
    - Если операция **не изменила** исходные данные/состояние системы (порог не преодолен) -> возможен немедленный повтор.
    - Если операция **изменила** данные (порог преодолен) -> требуется **откат** к предыдущему согласованному состоянию (контрольной точке) перед повтором.
- **Исход:**
    - Успешный повтор следовательно **Сбой** (фиксируется в журнале), процесс продолжается.
    - Неудачный повтор (после N попыток) следовательно **Отказ** -> запуск диагностики и реконфигурации.

Методы восстановления вычислительного процесса после сбоев делятся на:
- программные;
- аппаратурные;
- аппаратно-микропрограммные.
Выбор метода зависит от типа сбоя и места его возникновения. САК(система автоматического контроля)обнаруживает сбои в памяти, процессоре, и сбои ВУ.

**Выделим следующие методы восстановления вычислительного процесса после сбоя:**
1. **Методы Маскирования Ошибок (Аппаратные / Низкоуровневые):**
    - **Принцип:** Исправление ошибки _в момент возникновения_ до её распространения.
    - **Технологии:**
        - **Корректирующие коды (ECC):** Обнаружение и исправление ошибок в памяти (ОЗУ, кэш), каналах связи (например, исправление одиночных/двойных битовых ошибок).
        - **Аппаратное резервирование (TMR/NMR):** Выполнение операции на нескольких модулях с голосованием (мажоритарной логикой) для получения правильного результата несмотря на отказ одного.
       
2. **Методы Повторения (Аппаратно-Микропрограммные / Командный уровень):**
    - **Принцип:** Повторное выполнение операции, вызвавшей ошибку (если порог обратимости не преодолен).
    - **Реализация "Порога Повторения":**
        - Специальные триггеры/регистры, фиксирующие, изменились ли исходные данные.
        - Быстрые буферы/стеки для временного хранения исходных операндов/адресов.
        - Счетчики обработанных элементов (байт, слов) для возобновления с места ошибки (напр., в строковых операциях).
3. **Метод Контрольных Точек (Checkpointing) (Программно-Аппаратные / Уровень программы):**
    - **Принцип:** Периодическое сохранение **согласованного состояния** системы (регистры, память, контекст процесса) на устойчивый носитель. При ошибке - **откат** к последней контрольной точке и перезапуск программы/участка кода с этого момента.
    - **Типы:**
        - **Аппаратные:** Быстрые, поддерживаются процессором/ОС (напр., сохранение регистров).
        - **Программные:** Гибкие, реализуются в приложении/библиотеке (сохранение состояния данных).
        - **Гибридные.**
    - **Преимущества:** Универсальность, позволяет восстанавливаться после ошибок, исказивших состояние.
    - **Недостатки:** Накладные расходы на создание чекпоинтов, потеря вычислений между чекпоинтом и ошибкой.
        
4. **Программный Рестарт (Программный / Уровень системы):**
    - **Принцип:** Полная перезагрузка программы или операционной системы.
    - **Применение:** Когда локальное восстановление (повтор, чекпоинт) невозможно или нецелесообразно (фатальные ошибки, потеря согласованности).

**Выделим следующие способы восстановления работоспособности ЭВМ при отказах без ремонта:**
- методы логической перестановки адресов:
- ручная перестановка (для СИС);
- управляемая логическая перестановка адресов;
- автоматическая логическая перестановка адресов;
- исправление одиночных и некоторых двойных ошибок с помощью корректирующих кодов:
- алгоритмические методы;
- аппаратурные методы;
- метод замещения неисправной БИС (блока) памяти резервной (см. 1 часть лекций МПС глава 5);
- методы резервирования (см. выше);
- реконфигурация ОП при отказе одного из модулей памяти;
- исключение из работы отказавших ячеек памяти;
- переадресация в исправный блок;
- отключение части или всей буферной (кэш) памяти при ее отказе;
- исправление отказов в ПЗУ;
- альтернативные алгоритмы выполнения операций;
- реконфигурация ПУ.

Справка понятий:
**Системный Журнал Ошибок:**  
Фиксация _всех_ сбоев, отказов и действий по восстановлению для последующего анализа, диагностики и улучшения надежности системы.