**Организация ввода-вывода по прерываниям: структура программных и аппаратных средств.**

Когда ВУ **(Внешнее устройство)** готово к обмену данными, оно через ПВВ извещает об этом процессор с помощью запроса на прерывание. ЦП осуществляет передачу очередного элемента данных, после чего возобновляет выполнение прерванной программы.

ЦП в конце каждого цикла команды проверяет наличие запросов прерывания. Когда от ПВВ приходит такой сигнал, ЦП сохраняет контекст текущей программы и обрабатывает прерывание.

Далее ЦП восстанавливает контекст прерванной программы и возобновляет ее выполнение.

Этот метод эффективнее программно управляемого В/ВЫВ, поскольку устраняет ненужные ожидания, однако обработка прерывания занимает достаточно много времени ЦП.

При организации обмена по прерываниям в структуре программного обеспечения должны быть

3 фрагмента:

1) Инициализация системы прерывания.

Надо обеспечить работу аппарата сохранения (можно стек), т.е. установка стека, инициализация

таблиц переходов, управление глобальным разрешением работы программы.

2) Разрешение прерывания от данного внешнего устройства.

3) Программа обработки запроса внешнего устройства.

![[Pasted image 20250619194542.png]]

t1, t2 – моменты возникновения сигналов ВУ.

Если программа является системно независимой, то все это она делает сама.

Програмно управляемый обмен имеет недостатки: при передаче данных участвует ЦП, ОЗУ и ВУ.

Програмно управляемый обмен обеспечивает передачу данных за 2 цикла:

1 – ЦП заберет данные на себя

2 – выдает данные получателю (на порт вв/выв или ОЗУ в зависимости от направления передачи.

ЦП можно освободить от управления передачей данных.